(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"233c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[[n("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"}},[n("q-table",{attrs:{title:"Treats",dense:"",data:t.data,columns:t.columns,"row-key":"name",separator:t.separator,loading:t.loading,"hide-bottom":"",pagination:t.pagination,"no-data-label":"没有找到任何数据","no-results-label":"没有找到您想要的数据","table-style":{height:t.height}},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(){return[n("q-uploader",{staticStyle:{"max-width":"100%"},attrs:{url:t.uploaded,label:"选择文件",color:"purple",square:"",flat:"",bordered:"","auto-upload":"","field-name":function(t){return"file"}},on:{finish:function(e){return t.successUpload()},failed:function(e){return t.failUpload()}},scopedSlots:t._u([{key:"header",fn:function(e){return[n("div",{staticClass:"row no-wrap items-center q-pa-sm q-gutter-xs"},[e.queuedFiles.length>0?n("q-btn",{attrs:{icon:"clear_all",round:"",dense:"",flat:""},on:{click:e.removeQueuedFiles}},[n("q-tooltip",[t._v("移除所有上传的文件")])],1):t._e(),e.uploadedFiles.length>0?n("q-btn",{attrs:{icon:"done_all",round:"",dense:"",flat:""},on:{click:e.removeUploadedFiles}},[n("q-tooltip",[t._v("移除上传的文件")])],1):t._e(),e.isUploading?n("q-spinner",{staticClass:"q-uploader__spinner"}):t._e(),n("div",{staticClass:"col"},[n("div",{staticClass:"q-uploader__title"},[t._v("上传现有库存《文件小于1MB》")]),n("div",{staticClass:"q-uploader__subtitle"},[t._v(t._s(e.uploadSizeLabel)+" / "+t._s(e.uploadProgressLabel))])]),e.canAddFiles?n("q-btn",{attrs:{type:"a",icon:"add_box",round:"",dense:"",flat:""}},[n("q-uploader-add-trigger"),n("q-tooltip",[t._v("选择一个文件")])],1):t._e(),e.canUpload?n("q-btn",{attrs:{icon:"cloud_upload",round:"",dense:"",flat:""},on:{click:e.upload}},[n("q-tooltip",[t._v("上传到服务器")])],1):t._e(),e.isUploading?n("q-btn",{attrs:{icon:"clear",round:"",dense:"",flat:""},on:{click:e.abort}},[n("q-tooltip",[t._v("Abort Upload")])],1):t._e()],1)]}}])}),n("q-space"),[n("div",{staticClass:"q-pa-md"},[n("q-btn-dropdown",{staticClass:"glossy",attrs:{color:"purple","menu-anchor":"bottom right",label:"上传模板下载"}},[n("div",{staticClass:"row no-wrap q-pa-md"},[n("div",{staticClass:"column"},[n("div",{staticClass:"text-h6 q-mb-md"},[t._v("模板须知")]),n("q-btn",{attrs:{label:"一次只支持上传一个文件，文件的大小不得超过1MB",size:"md",align:"left",flat:"",icon:"warning"}}),n("q-btn",{attrs:{label:"创建时间为系统后台时间，无需输入",size:"md",align:"left",flat:"",icon:"warning"}}),n("q-btn",{attrs:{label:"文件格式只接受xls和xlsx，其他格式的文件不会被保存",size:"md",align:"left",flat:"",icon:"warning"}}),n("q-btn",{attrs:{label:"现有库存为你现在进出库接触后的即时库存，只接受整数",size:"md",align:"left",flat:"",icon:"warning"}}),n("q-btn",{attrs:{label:"每页仅显示50条记录，如果需要显示多条，请根据开放的API自行调整",size:"md",align:"left",flat:"",icon:"warning"}})],1),n("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:""}}),n("div",{staticClass:"flex flex-center"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"secondary",label:"下载",icon:"cloud_download",glossy:""},on:{click:function(e){return t.downloadexample()}}})],1)],1)])],1)]]},proxy:!0},{key:"no-data",fn:function(e){var a=e.icon,o=e.message,i=e.filter;return[n("div",{staticClass:"full-width row flex-center text-accent q-gutter-sm"},[n("q-icon",{attrs:{size:"2em",name:"sentiment_dissatisfied"}}),n("span",[t._v("\n            Well this is sad... "+t._s(o)+"\n          ")]),n("q-icon",{attrs:{size:"2em",name:i?"filter_b_and_w":a}})],1)]}}])}),[n("div",{staticClass:"q-pa-lg flex flex-center"},[n("q-pagination",{staticStyle:{"z-index":"1000"},attrs:{color:"purple",max:t.totlepage,"max-pages":5,"boundary-links":!0,"direction-links":!0,"boundary-numbers":!0},on:{click:function(e){return t.pageChange()}},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}})],1)]],2)],n("router-view")],2)},o=[],i=n("758b"),r=n("b06b"),s={name:"goods",data:function(){return{separator:"vertical",loading:!1,mobileData:!0,bluetooth:!1,totlepage:1,current:1,height:"",uploaded:"",columns:[{name:"goods_code",required:!0,label:"商品编号",align:"left",field:"goods_code"},{name:"on_hand_stock",label:"现有库存",field:"on_hand_stock"},{name:"create_time",label:"创建时间",field:"create_time"}],data:[],pagination:{sortBy:"goods_code",descending:!0,page:1,rowsPerPage:100}}},methods:{getList:function(){var t=this,e=this.$q.localStorage.getItem("openid");Object(i["b"])("goods/list/",{openid:e,page:this.current,max_page:50}).then((function(e){"200"===e.data.results.code&&(t.data=e.data.results.data,t.totlepage=e.data.results.totlepage)})).catch((function(t){console.log(t)}))},getSelectedString:function(){return 0===this.selected.length?"":"".concat(this.selected.length," record").concat(this.selected.length>1?"s":""," selected of ").concat(this.data.length)},successUpload:function(){this.getList(),this.$q.notify({message:"上传成功",icon:"check",color:"positive",position:"right",timeout:1500})},failUpload:function(){this.$q.notify({message:"网络原因无法上传成功",icon:"close",color:"negative",position:"right",timeout:1500})},pageChange:function(){this.getList()},downloadexample:function(){Object(r["a"])("https://scmapi.56yhz.com/goods/ex/")}},created:function(){this.uploaded="https://scmapi.56yhz.com/goods/?openid="+this.$q.localStorage.getItem("openid")},mounted:function(){this.$q.localStorage.has("openid")&&this.getList(),this.$q.platform.is.electron?this.height=String(this.$q.screen.height-275)+"px":this.height=this.$q.screen.height-275+"px"},updated:function(){}},l=s,c=n("2877"),u=n("eebe"),d=n.n(u),p=n("9989"),f=n("eaac"),g=n("ee89"),m=n("9c40"),h=n("05c0"),b=n("0d59"),q=n("cc04"),_=n("2c91"),v=n("f20b"),w=n("eb85"),x=n("0016"),y=n("3b16"),k=n("7f67"),C=Object(c["a"])(l,a,o,!1,null,null,null);e["default"]=C.exports;d()(C,"components",{QPage:p["a"],QTable:f["a"],QUploader:g["a"],QBtn:m["a"],QTooltip:h["a"],QSpinner:b["a"],QUploaderAddTrigger:q["a"],QSpace:_["a"],QBtnDropdown:v["a"],QSeparator:w["a"],QIcon:x["a"],QPagination:y["a"]}),d()(C,"directives",{ClosePopup:k["a"]})},"758b":function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return b})),n.d(e,"f",(function(){return g})),n.d(e,"e",(function(){return m}));n("551c"),n("06db");var a=n("2b0e"),o=n("bc3a"),i=n.n(o),r=n("18d6"),s="https://scmapi.56yhz.com/",l=i.a.create({baseURL:s,timeout:5e3}),c=i.a.create({baseURL:s,timeout:5e3}),u=i.a.create({baseURL:s,timeout:5e3}),d=i.a.create({baseURL:s,timeout:5e3});function p(t,e){return l.get(t,{params:e})}function f(t,e,n){return l.post(t,n,{params:e})}function g(t,e){return c.post(t,e)}function m(t,e){return u.post(t,e)}function h(t,e,n){return l.patch(t,n,{params:e})}function b(t,e,n){return d.delete(t,n,{params:e})}u.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),u.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),c.interceptors.request.use((function(t){var e=r["a"].getItem("authid");return t.params={openid:e},t}),(function(t){return Promise.reject(t)})),c.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),l.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),l.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),d.interceptors.request.use((function(t){var e=r["a"].getItem("openid");return t.params={openid:e},t}),(function(t){return Promise.reject(t)})),d.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),a["a"].prototype.$axios=l}}]);